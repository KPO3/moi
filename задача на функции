#include <iostream>
#include <cstdlib>
#include <ctime>
#include <stdio.h>
using namespace std;
//Константы для удобства
const int x = 20, y = 10;

//Находитель характеристики
int harfinder(int mat[]) {
	//Характеристика
	int num = 0;

	for (int b = 0; b < y; b++) {
		//Сумма делителей числа строки
		int sum = 0; 

		//Перебираем все числа от 1 до числа строки
		for (int i = 1; i < mat[b]; i++) { 
			//Если число является делителем числа строки, то прибавляем его в сумму делителей
			if (mat[b] % i == 0) {
				sum += i;
			}
		}
		//Если сумма делителей = 7, то увеличиваем характеристику на 1
		if (sum == 7) {
			num++;
		}
	}
	
	return num;
}
//Генератор случайных чисел от 1 до 100
int random() {
	return rand() % 100 + 1;
}
//Выводитель матрицы
void printMat(int mat[x][y], int har[], bool task2) {
	printf("\n");
	for (int a = 0; a < x; a++) {
		//Если не задание 2, то выводить нули
		if (!(task2 && har[a]==0)) {
			for (int b = 0; b < y; b++) {
				printf("%d ", mat[a][b]);
			}
			printf(" --- %d\n", har[a]);
		}
	}
}
//Задание 1
void task1(bool task2) {
	//Создаем матрицу и массив характеристики каждой строки 
	int mat[x][y], har[x];

	for (int a = 0; a < x; a++) {
		for (int b = 0; b < y; b++) {
			//Генерируем случайные числа в матрицу и выводим в консоль
			mat[a][b] = random();
			printf("%d ", mat[a][b]);
		}
		//Заполняем массив характеристики
		har[a] = harfinder(mat[a]);

		printf(" --- %d\n", har[a]);
	}

	//Сортировка по характеристике
	for (int a = 0; a < x; a++) {
		//Просматриваем все характеристики после текущей
		for (int i = a; i < x; i++) {
			//Создаем временный массив
			int temp[y];
			//Если последующая характеристика больше текущей то меняем их местами
			if (har[i] > har[a]) {
				for (int b = 0; b < y; b++) {
					//Передаем значения последующей строки в временный массив
					temp[b] = mat[i][b];
					//Передаем значения текущей строки в последующую строку
					mat[i][b] = mat[a][b];
					//Передаем значения из временного массива в текущую строку
					mat[a][b] = temp[b];
				}
				//Создаем временную переменную характеристики
				int t = har[a];
				//Меняем характеристики местами
				har[a] = har[i];
				har[i] = t;
			}
		}
	}
	//Выводим матрицу
	printMat(mat, har, task2);
	
}
void main() {
	setlocale(LC_ALL, "Russian");
	srand((unsigned)time(NULL));
	task1(true);
}
